[English version](README_4848S040_english.md)

### Yoradio для ESP32-4848S040 (ST7701S RGB 480x480, 4.0")

1) Как включить плату в проект

- Скопируйте `src/myoptions_4848S040.h` поверх `src/myoptions.h`.
- **ВАЖНО:** В PlatformIO выберите environment `[env:4848S040]` из `platformio.ini` (или универсальный `[env:yoradio-esp32s3]`).
- Затем выполните очистку сборки в `.pioarduino`/PlatformIO (clean), чтобы конфигурация гарантированно применилась.

2) Фото рабочего dev board

- ![20250815_000546](https://github.com/user-attachments/assets/acb966ff-f32c-4d74-968a-618a090062a4)![20251012_175502](https://github.com/user-attachments/assets/fa5d9a84-035f-4691-b40a-9d20b6746dda)



3) Лог изменений

- 12.10.2025 — Первичная версия README для платы 4848S040.

4) Особенности и пины

- Дисплей: ST7701S, 480x480, RGB Panel (16 линий данных)
- Тачскрин: GT911 (I2C: SDA=19, SCL=45)
- Подсветка: GPIO38 (PWM)
- Аудио (I2S): DOUT=40, BCLK=1, LRC=2
- SD-карта (SPI): CS=42, SCK=48, MISO=41, MOSI=47
- Свободные пины: см. схему/даташит (по ревизии платы). При необходимости можно временно использовать пины SD-карты — код работы с SD ещё не адаптирован.

Технические характеристики

| Компонент | Характеристики |
|-----------|----------------|
| **Процессор** | ESP32-S3-WROOM-1-N16R8 (240MHz, dual-core) |
| **Память** | 520KB RAM + 16MB PSRAM + 8MB Flash |
| **Дисплей** | ST7701 RGB Panel 480x480 (16 линий данных) |
| **Тачскрин** | GT911 (I2C: SDA=19, SCL=45) |
| **Аудио** | I2S (BCLK=1, LRCLK=2, DOUT=40) |
| **Подсветка** | PWM (пин 38) |
| **SD карта** | FSPI (CS=42, SCK=48, MISO=41, MOSI=47) |

5) Особенности подключения

- Встроенный моно DAC по умолчанию отключён (линии выведены на задний разъём).
- ![esp32-4848S040_conn](https://github.com/user-attachments/assets/a40160ec-31af-463c-88bb-d60b51b0e37b)
- Для включения встроенного DAC запаяйте перемычки R21, R22, R23.
- ![487350522-2abafab0-3ece-4569-8181-4b2ded7a6a62](https://github.com/user-attachments/assets/d2fbc24c-9036-4c09-ace8-5323dc4e30fb)
- Если задний разъём не используется — R26, R27, R25 можно не выпаивать.
- ![20251012_175518](https://github.com/user-attachments/assets/34dd64a3-305e-4486-a07c-fedf7416baa0)




Жесты и управление (тачскрин)

- Поддержка тачскрина реализована.
- Влево/вправо — изменение громкости
- Вверх/вниз — выбор станции
- Нажатие — старт/стоп
- Одновременное нажатие двумя пальцами - переключение SD<->Radio. К сожалению в этой версии SD карта пока не работает..

Статус SD

- Поддержка SD-карты ещё не доведена до воспроизведения. Индексация работает, но плеер не использует SD. Возможны доработки со стороны сообщества.

- Автор будет благодарен за предложения улучшений, тестирование и pull request.
